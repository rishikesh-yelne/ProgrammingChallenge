<!-- Add Movement Record -->
<div style="margin-left: 10%; margin-bottom: 20px">
    <button type="button" class="btn btn-secondary" (click)="openPopup()">Add Movement Record</button>
</div>
<!-- AG Grid Angular Component -->
<ag-grid-angular style="width: 80%; height: 80%; margin-left: 10%;" class="ag-theme-alpine" [columnDefs]="columnDefs"
    [defaultColDef]="defaultColDef" [tooltipShowDelay]="tooltipShowDelay" [enableBrowserTooltips]="true"
    [rowData]="rowData" [animateRows]="true" (gridReady)="onGridReady($event)"></ag-grid-angular>
<div style="min-height: 30px;"></div>

<!-- Popup Modal for Movement Addition -->
<div class="modal" tabindex="-1" role="dialog" [ngStyle]="{'display':modalDisplayStyle}">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Add a Movement record</h4>
            </div>
            <div class="modal-body">
                <form #form="ngForm">
                    <div class="form-row">
                        <div class="col">
                            <label for="company-name" class="col-form-label">Company Name:</label>
                            <input type="text" class="form-control" id="company-name" name="companyName" [(ngModel)]="movementRecord.companyName">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col">
                            <label for="reason" class="col-form-label">Reason:</label>
                            <input type="text" class="form-control" id="reason" name="reason" [(ngModel)]="movementRecord.reason">    
                        </div>
                        <div class="col">
                            <label for="species" class="col-form-label">Species:</label>
                            <input type="text" class="form-control" id="species" name="species" [(ngModel)]="movementRecord.species">    
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col">
                            <label for="moved-count" class="col-form-label">Moved Count:</label>
                            <input type="number" class="form-control" id="moved-count" name="movedCount" [(ngModel)]="movementRecord.movedCount">    
                        </div>
                        <div class="col">
                            <label for="start-date" class="col-form-label">Start Date:</label>
                            <input type="date" class="form-control" id="start-date" name="startDate" [(ngModel)]="movementRecord.startDate">    
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col">
                            <label for="origin-premise-id" class="col-form-label">Origin Premise Id:</label>
                            <input type="text" class="form-control" id="origin-premise-id" name="originPremiseId" [(ngModel)]="movementRecord.originPremiseId">    
                        </div>
                        <div class="col">
                            <label for="destination-premise-id" class="col-form-label">Destination Premise Id:</label>
                            <input type="text" class="form-control" id="destination-premise-id" name="destinationPremiseId" [(ngModel)]="movementRecord.destinationPremiseId">    
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <div *ngIf="!isValid"><div style="color: #dc3545; font-size:90%;">{{ errorMessage }}</div></div>
                <button type="button" class="btn btn-light" (click)="closePopup()">
                    Close
                </button>
                <button type="button" class="btn btn-dark" (click)="addMovementRecord()">
                    Add
                </button>
            </div>
        </div>
    </div>
</div>